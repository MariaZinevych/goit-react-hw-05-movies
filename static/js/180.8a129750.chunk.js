"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[180],{197:function(t,e,n){n.d(e,{Bt:function(){return p},Ml:function(){return l},Tg:function(){return i},Y5:function(){return o},wL:function(){return f}});var r=n(861),a=n(757),u=n.n(a),c=n(243),s="7a1a96151b65b7a2369b7dfff5707ea0";c.Z.defaults.baseURL="https://api.themoviedb.org/3/";var i=function(){var t=(0,r.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("trending/movie/day?api_key=".concat(s));case 2:return e=t.sent,t.abrupt("return",e.data.results);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("movie/".concat(e,"?api_key=").concat(s,"&language=en-US"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("movie/".concat(e,"/credits?api_key=").concat(s,"&language=en-US"));case 2:return n=t.sent,t.abrupt("return",n.data.cast);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("movie/".concat(e,"/reviews?api_key=").concat(s,"&language=en-US&page=1"));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("search/movie?api_key=".concat(s,"&language=en-US&page=1&include_adult=false&query=").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},130:function(t,e,n){var r=n(87),a=n(184);e.Z=function(t){var e=t.films;return(0,a.jsx)("ul",{children:e.map((function(t){return(0,a.jsx)("li",{children:(0,a.jsxs)(r.rU,{to:"/",children:[" ",t.title]})},t.id)}))})}},180:function(t,e,n){n.r(e),n.d(e,{default:function(){return f}});var r=n(439),a=n(197),u=n(130),c=n(594),s=n(791),i=n(184),o=function(t){var e=t.searchMovies,n=(0,s.useState)(""),a=(0,r.Z)(n,2),u=a[0],c=a[1];return(0,i.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(u.toLowerCase())},children:[(0,i.jsx)("input",{type:"text",name:"query",autoFocus:!0,value:u,onChange:function(t){c(t.target.value)}}),(0,i.jsx)("button",{type:"submit",children:"Search"})]})},f=function(){var t=(0,s.useState)([]),e=(0,r.Z)(t,2),n=e[0],f=e[1],p=(0,s.useState)(!1),l=(0,r.Z)(p,2),h=l[0],v=l[1],d=(0,s.useState)(!1),m=(0,r.Z)(d,2),g=m[0],x=m[1];return(0,i.jsxs)("main",{children:[(0,i.jsx)(o,{searchMovies:function(t){v(!0),(0,a.Ml)(t).then((function(t){f(t),x(0===t.length)})).catch((function(t){console.log(t)})).finally((function(){v(!1)}))}}),h&&(0,i.jsx)(c.Z,{}),g&&(0,i.jsx)("p",{children:"There is no movies with this request. Please, try again"}),n&&(0,i.jsx)(u.Z,{films:n})]})}}}]);
//# sourceMappingURL=180.8a129750.chunk.js.map